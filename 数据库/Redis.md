# 1 NoSQL 概述



## 1.1 为什么使用？

> 1. 单机模型

最早的单机服务器上，我们只需要使用单个的数据库就够使用了。毕竟用户的访问量没有那么大。



> 2. Memcached（缓存）+ MySQL + 垂直拆分

- 网站80%的请求都是读，每次都要取数据库中查询的话效率太低了。

- 为了减少服务器的压力，我们就可以使用缓存来保证效率。

    ![image-20200628192246257](Redis.assets/image-20200628192246257.png)

    

- 发展过程：优化数据结构和索引 ==》文件缓存（IO）==》Memcached

缓存技术主要是来解决**读**的问题。



> 3. 水平拆分 分库分表 MySQL集群



> 为什么要用？

- 数据量增长的速度非常快，单单用关系型数据库很难处理。
- MySQL来存储些比较大的文件，博客，图片时，效率不高。需要依赖另一种专门处理的数据库。



## 1.2 什么是NoSQL

很多的数据类型：用户的个人信息，社交网络，地理信息等。这些数据类型的存储不需要一个固定的格式。不需要多余的操作就可以横向扩展的。 就像 Map <String, Object>

> NoSQL 特点

​	**解耦！**

1. 方便扩展：数据之间没有关系，很容易扩展。

2. 大数据量高性能：Redis 一秒写8W，读取11W。NoSQL的缓存记录级，是一种细粒度的缓存。

3. 数据类型是多样性的：不需要事先设计数据库。随去随用。如果是数据量大的表，一开始很难设计好。

4. 传统RDBMS和NoSQL

    ```yaml
    传统RDBMS
    - 结构化组织
    - SQL 语言
    - 数据和关系都存在单独的表中
    - 操作，数据定义语言
    - 严格的一致性
    - 基础的事务
    ```

    ```
    NoSQL
    - 不仅仅是数据
    - 没有固定的查询语言
    - 从多种存储方式：键值对存储，列存储，文档存储，图形数据库
    - 最终一致性，保证最终一致就可以
    - CAP定理 和 BASE
    - 高性能，高可用，高可扩展
    ```

    

> 了解：3V+3高

- 大数据的3V：用来描述问题；
    - 海量Volume
    - 多样Variety
    - 实时Velocity
- 3高需求：
    - 高并发
    - 高可扩 （随时水平拆分，+服务器）
    - 高性能

最佳实践：NoSQL + RDBMS。

